(function() {
    let canvasObject = document.getElementById("core-canvas");
    let canvasContext = canvasObject.getContext("2d");

    let tileSize = 35;

    let gameMap = [
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        [1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1],
        [1,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,1],
        [1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1],
        [1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,1],
        [1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1],
        [1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1],
        [1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1],
        [1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
        [1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
        [1,0,1,1,1,0,0,0,1,0,1,1,1,1,1,1,1,1,0,1],
        [1,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1],
        [1,0,1,1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1],
        [1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1],
        [1,0,1,1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1],
        [1,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1],
        [1,0,1,1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1],
        [1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1],
        [1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ];

    function update() {

    }

    function render() {
        for (let i in gameMap) {
            for (let j in gameMap) {
                let tile = gameMap[i][j];
                if (tile == 1) {
                    let x = j * tileSize;
                    let y = i * tileSize;
                    canvasContext.fillRect(x,y,tileSize,tileSize);
                }
            }
        }
    }

    function loop() {
        update();
        render();
        requestAnimationFrame(loop, canvasObject);
    }
    requestAnimationFrame(loop, canvasObject);
}())